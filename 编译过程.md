Go语言是一门需要编译才能运行的编程语言，也就是说代码在运行之前需要通过编译器生成二进制机器码，包含二进制机器码的文件才能在目标机器上运行，如果我们想了解Go语言的实现原理,理解它的编译过程就是一个没有办法绕过的事情。

-------


**抽象语法树**

抽象语法书(Abstract Syntax Tree、AST)，是源代码语法的结构的一种抽象表示，它用树桩的方式表示编程语言的语法结构。抽象语法树种的每一个节点都表示源代码种的一个元素，每一颗子树的表示一个语法元素，以表达式`2 * 3 + 7`为例，编译器的语法分析阶段会生成如下图所示的抽象语法树。

![](assets/17017572469334.jpg)

作为编译器常用的数据结构，抽象语法树抹去了源代码中不重要的一些字符-空格、分号或者括号等。编译器在执行完语法分析之后会输出一个抽象语法树，这个抽象语法树会辅助编译器进行语义分析，我们可以用它来确定语法正确的程序是否存在一些类型不匹配的问题。

-------

**静态单赋值**

静态单赋值(Static Single Assignment、SSA）是中间代码的特性，如果中间代码具有静态单赋值的特性，那么每个变量就只会被赋值一次。在实践中，我们通常会用下标实现静态单赋值，这里以下面的代码举个例子：

```go
x := 1
x := 2
y := x
```

经过简单的分析，我们就能够发现上述的代码第一行的赋值语句`x := 1`不会起到任何作用。下面是具有SSA特性的中间代码，我们可以清晰地发现变量`y_1`和`x_1`是没有任何关系的，所以在机器码生成时就可以省去`x := 1`的赋值，通过减少需要执行的指令优化这段代码。

```go
x_1 := 1
x_2 := 2
y_1 := X_2
```

因为SSA的主要作用是对代码进行优化，所以它是编译器后端的一部分；当然代码编译领域除了SSA还有很多中间代码的优化方法，编译器生成代码的优化也是一个古老并且复杂的领域。
